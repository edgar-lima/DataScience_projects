---
title: "Desafio House Rocket"
output:
  html_document:
    df_print: paged
---

# Importação dos dados
```{r, eval=FALSE}
setwd("D:\\07 04 2020\\Documents\\Edgar\\Projetos\\Data_sciece\\DataScience_projects\\Vendas_casa")
library("tidyverse")

dados<- read.csv("kc_house_data.csv", header = T)
View(dados)
```

# Preparação dos dados
    Os dados são separados em treino e teste, sendo 80% para treinar o modelo e 20%
 para treinar.
```{r}
n_treino<- (70/100)*nrow(dados)
set.seed(100)
ua<- sample(n_treino)
dados2<- dados%>% select(id,price,bedrooms,bathrooms,floors,waterfront)
treino<- dados2[ua,]; View(treino)
teste<- dados2[-ua,]; View(teste)
```

# Treinamento do modelo
```{r}

model<- lm(price~bedrooms+bathrooms+floors+waterfront,
           data= treino)
View(predict(model, teste))

```

# Avaliação da performance do modelo
```{r}
predito<-predict(model,teste)
per<- teste %>% select("id", "price")%>%
  mutate(predito) %>% mutate(erro= price-predito )%>%
  mutate(erro_abs= abs(erro))%>%mutate(erro_perc= erro/price)%>% mutate(erro_percabs= abs(erro_perc))
View(per)

# Calculando o erro medio absoluto e percentual medio
erro_medio<- mean(per$erro_abs); erro_medio
erro_percmed<- mean(per$erro_percabs); erro_percmed

```






